{"ast":null,"code":"var _jsxFileName = \"/Users/pc/ai-image-studio/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport LeftPanel from './components/LeftPanel';\nimport RightPanel from './components/RightPanel';\nimport MobileModal from './components/MobileModal';\nimport HistoryPanel from './components/HistoryPanel';\nimport { generateOrEditImage } from './services/geminiService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst createStyleInstructions = {\n  cinematic: 'estilo cinematográfico',\n  '8k': 'resolução 8k, ultra detalhado',\n  realistic: 'fotorrealista, hiper-realismo',\n  illustration: 'estilo ilustração, arte digital'\n};\n\n// Helper to convert data URL to a File object\nconst dataUrlToFile = async (dataUrl, filename) => {\n  const res = await fetch(dataUrl);\n  const blob = await res.blob();\n  return new File([blob], filename, {\n    type: blob.type\n  });\n};\nfunction App() {\n  _s();\n  const [prompt, setPrompt] = useState('');\n  const [mode, setMode] = useState('create');\n  const [createFn, setCreateFn] = useState('free');\n  const [editFn, setEditFn] = useState('add-remove');\n  const [aspectRatio, setAspectRatio] = useState('1:1');\n  const [retouchStyle, setRetouchStyle] = useState('none');\n  const [styleFunctionStyle, setStyleFunctionStyle] = useState('none');\n  const [createStyles, setCreateStyles] = useState([]);\n  const [image1, setImage1] = useState(null);\n  const [image2, setImage2] = useState(null);\n  const [viewState, setViewState] = useState('placeholder');\n  const [generatedImage, setGeneratedImage] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [history, setHistory] = useState(() => {\n    try {\n      const savedHistory = localStorage.getItem('invente-ia-history');\n      return savedHistory ? JSON.parse(savedHistory) : [];\n    } catch (error) {\n      console.error(\"Falha ao carregar o histórico do localStorage\", error);\n      return [];\n    }\n  });\n  const [comparisonImage, setComparisonImage] = useState(null);\n  const [lastGenerationConfig, setLastGenerationConfig] = useState(null);\n  useEffect(() => {\n    try {\n      localStorage.setItem('invente-ia-history', JSON.stringify(history));\n    } catch (error) {\n      console.error(\"Falha ao salvar o histórico no localStorage\", error);\n    }\n  }, [history]);\n  const handleGenerate = useCallback(async () => {\n    if (!prompt.trim()) {\n      alert(\"Por favor, escreva sua ideia no prompt!\");\n      return;\n    }\n    const currentConfig = {\n      prompt,\n      mode,\n      createFn,\n      editFn,\n      aspectRatio,\n      retouchStyle,\n      styleFunctionStyle,\n      createStyles,\n      image1,\n      image2\n    };\n    let promptWithStyles = prompt;\n    if (mode === 'create' && createStyles.length > 0) {\n      const styleKeywords = createStyles.map(style => createStyleInstructions[style]).join(', ');\n      promptWithStyles = `${prompt}, ${styleKeywords}`;\n    }\n    let finalPrompt = `Estilo Invente com IA — realismo, nitidez alta, contraste equilibrado. ${promptWithStyles}`;\n    if (mode === 'create' && createFn === 'thumbnail') {\n      finalPrompt = `Crie uma thumbnail para YouTube, formato 16:9, chamativa, com cores vibrantes e elementos claros que se destacam. O tema é: ${promptWithStyles}`;\n    }\n\n    // Store the \"before\" image for comparison if in edit mode\n    const originalImageUrlForComparison = mode === 'edit' && image1 ? image1.previewUrl : null;\n    setViewState('loading');\n    setGeneratedImage(null);\n    setComparisonImage(null);\n    try {\n      let images = [];\n      if (mode === 'edit') {\n        if (editFn === 'compose') {\n          if (!image1 || !image2) {\n            throw new Error(\"Selecione as duas imagens para a função 'Unir'.\");\n          }\n          images = [image1, image2];\n        } else {\n          if (!image1) {\n            throw new Error(\"Selecione uma imagem para editar.\");\n          }\n          images = [image1];\n        }\n      } else if (mode === 'create' && image1) {\n        images = [image1];\n      }\n      const activeRetouchStyle = mode === 'edit' && editFn === 'retouch' ? retouchStyle : 'none';\n      const activeStyleFunctionStyle = mode === 'edit' && editFn === 'style' ? styleFunctionStyle : 'none';\n      const resultBase64 = await generateOrEditImage(finalPrompt, images, aspectRatio, activeRetouchStyle, activeStyleFunctionStyle);\n      const imageUrl = `data:image/png;base64,${resultBase64}`;\n      setGeneratedImage(imageUrl);\n      setComparisonImage(originalImageUrlForComparison); // Set the comparison image on success\n      setViewState('image');\n      setLastGenerationConfig(currentConfig);\n\n      // Add to history\n      setHistory(prevHistory => [imageUrl, ...prevHistory].slice(0, 12));\n    } catch (error) {\n      console.error(error);\n      const errorMessage = error instanceof Error ? error.message : \"Ocorreu um erro desconhecido ao gerar a imagem.\";\n      alert(errorMessage);\n      setViewState('placeholder');\n    }\n  }, [prompt, mode, createFn, editFn, image1, image2, aspectRatio, retouchStyle, styleFunctionStyle, createStyles]);\n  const handleGenerateVariation = useCallback(async () => {\n    if (!lastGenerationConfig || !generatedImage) {\n      alert(\"Gere uma imagem primeiro para criar variações.\");\n      return;\n    }\n    const {\n      prompt: lastPrompt,\n      mode: lastMode,\n      createStyles: lastCreateStyles,\n      createFn: lastCreateFn,\n      editFn: lastEditFn,\n      image1: lastImage1,\n      image2: lastImage2,\n      aspectRatio: lastAspectRatio,\n      retouchStyle: lastRetouchStyle,\n      styleFunctionStyle: lastStyleFunctionStyle\n    } = lastGenerationConfig;\n    let promptWithStyles = lastPrompt;\n    if (lastMode === 'create' && lastCreateStyles.length > 0) {\n      const styleKeywords = lastCreateStyles.map(style => createStyleInstructions[style]).join(', ');\n      promptWithStyles = `${lastPrompt}, ${styleKeywords}`;\n    }\n    let finalPrompt = `Estilo Invente com IA — realismo, nitidez alta, contraste equilibrado. ${promptWithStyles}`;\n    if (lastMode === 'create' && lastCreateFn === 'thumbnail') {\n      finalPrompt = `Crie uma thumbnail para YouTube, formato 16:9, chamativa, com cores vibrantes e elementos claros que se destacam. O tema é: ${promptWithStyles}`;\n    }\n    const previousImage = generatedImage;\n    setViewState('loading');\n    setComparisonImage(previousImage); // The current image becomes the \"before\" image\n    setGeneratedImage(null);\n    try {\n      let images = [];\n      if (lastMode === 'edit') {\n        if (lastEditFn === 'compose') {\n          if (!lastImage1 || !lastImage2) {\n            throw new Error(\"As imagens originais da função 'Unir' não foram encontradas.\");\n          }\n          images = [lastImage1, lastImage2];\n        } else {\n          if (!lastImage1) {\n            throw new Error(\"A imagem original para editar não foi encontrada.\");\n          }\n          images = [lastImage1];\n        }\n      } else if (lastMode === 'create' && lastImage1) {\n        images = [lastImage1];\n      }\n      const activeRetouchStyle = lastMode === 'edit' && lastEditFn === 'retouch' ? lastRetouchStyle : 'none';\n      const activeStyleFunctionStyle = lastMode === 'edit' && lastEditFn === 'style' ? lastStyleFunctionStyle : 'none';\n      const resultBase64 = await generateOrEditImage(finalPrompt, images, lastAspectRatio, activeRetouchStyle, activeStyleFunctionStyle);\n      const imageUrl = `data:image/png;base64,${resultBase64}`;\n      setGeneratedImage(imageUrl);\n      setViewState('image');\n      setHistory(prevHistory => [imageUrl, ...prevHistory].slice(0, 12));\n    } catch (error) {\n      console.error(error);\n      const errorMessage = error instanceof Error ? error.message : \"Ocorreu um erro desconhecido ao gerar a variação.\";\n      alert(errorMessage);\n      setGeneratedImage(previousImage);\n      setComparisonImage(null);\n      setViewState('image');\n    }\n  }, [lastGenerationConfig, generatedImage]);\n  const handleDownload = useCallback(format => {\n    if (!generatedImage) return;\n    const download = (url, extension) => {\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `invente-flux.${extension}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    };\n    if (format === 'png') {\n      download(generatedImage, 'png');\n      return;\n    }\n    const img = new Image();\n    img.onload = () => {\n      const canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      const ctx = canvas.getContext('2d');\n      if (!ctx) return;\n      ctx.fillStyle = '#FFFFFF';\n      ctx.fillRect(0, 0, canvas.width, canvas.height);\n      ctx.drawImage(img, 0, 0);\n      const mimeType = `image/${format}`;\n      const quality = format === 'jpeg' ? 0.92 : undefined;\n      const dataUrl = canvas.toDataURL(mimeType, quality);\n      download(dataUrl, format);\n    };\n    img.src = generatedImage;\n  }, [generatedImage]);\n  const startNewImage = () => {\n    setGeneratedImage(null);\n    setViewState('placeholder');\n    setIsModalOpen(false);\n    setPrompt('');\n    setImage1(null);\n    setImage2(null);\n    setCreateStyles([]);\n    setComparisonImage(null);\n    setLastGenerationConfig(null);\n  };\n  const backToEditFunctions = () => {\n    setEditFn('add-remove');\n    setImage2(null);\n  };\n  const handleSelectFromHistory = useCallback(async imageUrl => {\n    setGeneratedImage(imageUrl);\n    setViewState('image');\n    setComparisonImage(null); // Clear comparison when loading from history\n    setLastGenerationConfig(null); // Variations aren't possible from history yet\n\n    // Prepare image for editing\n    const file = await dataUrlToFile(imageUrl, 'history-image.png');\n    setImage1({\n      file,\n      previewUrl: imageUrl\n    });\n\n    // Switch to edit mode\n    setMode('edit');\n    setEditFn('add-remove'); // Default to a common edit function\n    setPrompt(''); // Clear prompt for new edit instruction\n    window.scrollTo(0, 0); // Scroll to top\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container max-w-7xl mx-auto p-4 md:p-5 grid grid-cols-1 lg:grid-cols-[420px_1fr] gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(LeftPanel, {\n        prompt: prompt,\n        setPrompt: setPrompt,\n        mode: mode,\n        setMode: setMode,\n        createFn: createFn,\n        setCreateFn: setCreateFn,\n        editFn: editFn,\n        setEditFn: setEditFn,\n        aspectRatio: aspectRatio,\n        setAspectRatio: setAspectRatio,\n        retouchStyle: retouchStyle,\n        setRetouchStyle: setRetouchStyle,\n        styleFunctionStyle: styleFunctionStyle,\n        setStyleFunctionStyle: setStyleFunctionStyle,\n        createStyles: createStyles,\n        setCreateStyles: setCreateStyles,\n        image1: image1,\n        setImage1: setImage1,\n        image2: image2,\n        setImage2: setImage2,\n        onGenerate: handleGenerate,\n        isLoading: viewState === 'loading',\n        onBackToEdit: backToEditFunctions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(RightPanel, {\n          viewState: viewState,\n          generatedImage: generatedImage,\n          comparisonImage: comparisonImage,\n          onEdit: () => setIsModalOpen(true),\n          onDownload: handleDownload,\n          onGenerateVariation: handleGenerateVariation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(HistoryPanel, {\n          history: history,\n          onSelect: handleSelectFromHistory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MobileModal, {\n        isOpen: isModalOpen,\n        onClose: () => setIsModalOpen(false),\n        imageUrl: generatedImage,\n        onDownload: handleDownload,\n        onEdit: () => alert(\"Edite o prompt e gere novamente.\"),\n        onNewImage: startNewImage,\n        onGenerateVariation: handleGenerateVariation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qa37s6XNqLryGt2ECrH3nyPzcxw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","LeftPanel","RightPanel","MobileModal","HistoryPanel","generateOrEditImage","jsxDEV","_jsxDEV","createStyleInstructions","cinematic","realistic","illustration","dataUrlToFile","dataUrl","filename","res","fetch","blob","File","type","App","_s","prompt","setPrompt","mode","setMode","createFn","setCreateFn","editFn","setEditFn","aspectRatio","setAspectRatio","retouchStyle","setRetouchStyle","styleFunctionStyle","setStyleFunctionStyle","createStyles","setCreateStyles","image1","setImage1","image2","setImage2","viewState","setViewState","generatedImage","setGeneratedImage","isModalOpen","setIsModalOpen","history","setHistory","savedHistory","localStorage","getItem","JSON","parse","error","console","comparisonImage","setComparisonImage","lastGenerationConfig","setLastGenerationConfig","setItem","stringify","handleGenerate","trim","alert","currentConfig","promptWithStyles","length","styleKeywords","map","style","join","finalPrompt","originalImageUrlForComparison","previewUrl","images","Error","activeRetouchStyle","activeStyleFunctionStyle","resultBase64","imageUrl","prevHistory","slice","errorMessage","message","handleGenerateVariation","lastPrompt","lastMode","lastCreateStyles","lastCreateFn","lastEditFn","lastImage1","lastImage2","lastAspectRatio","lastRetouchStyle","lastStyleFunctionStyle","previousImage","handleDownload","format","download","url","extension","a","document","createElement","href","body","appendChild","click","removeChild","img","Image","onload","canvas","width","height","ctx","getContext","fillStyle","fillRect","drawImage","mimeType","quality","undefined","toDataURL","src","startNewImage","backToEditFunctions","handleSelectFromHistory","file","window","scrollTo","className","children","onGenerate","isLoading","onBackToEdit","fileName","_jsxFileName","lineNumber","columnNumber","onEdit","onDownload","onGenerateVariation","onSelect","isOpen","onClose","onNewImage","_c","$RefreshReg$"],"sources":["/Users/pc/ai-image-studio/src/App.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport LeftPanel from './components/LeftPanel';\nimport RightPanel from './components/RightPanel';\nimport MobileModal from './components/MobileModal';\nimport HistoryPanel from './components/HistoryPanel';\nimport { AppMode, CreateFunction, EditFunction, ViewState, ImageData, AspectRatio, ImageFormat, RetouchStyle, StyleFunctionStyle, CreateStyle } from './types';\nimport { generateOrEditImage } from './services/geminiService';\n\nconst createStyleInstructions: Record<CreateStyle, string> = {\n  cinematic: 'estilo cinematográfico',\n  '8k': 'resolução 8k, ultra detalhado',\n  realistic: 'fotorrealista, hiper-realismo',\n  illustration: 'estilo ilustração, arte digital',\n};\n\n// Helper to convert data URL to a File object\nconst dataUrlToFile = async (dataUrl: string, filename: string): Promise<File> => {\n    const res = await fetch(dataUrl);\n    const blob = await res.blob();\n    return new File([blob], filename, { type: blob.type });\n};\n\ninterface GenerationConfig {\n  prompt: string;\n  mode: AppMode;\n  createFn: CreateFunction;\n  editFn: EditFunction;\n  aspectRatio: AspectRatio;\n  retouchStyle: RetouchStyle;\n  styleFunctionStyle: StyleFunctionStyle;\n  createStyles: CreateStyle[];\n  image1: ImageData | null;\n  image2: ImageData | null;\n}\n\nfunction App() {\n  const [prompt, setPrompt] = useState<string>('');\n  const [mode, setMode] = useState<AppMode>('create');\n  const [createFn, setCreateFn] = useState<CreateFunction>('free');\n  const [editFn, setEditFn] = useState<EditFunction>('add-remove');\n  const [aspectRatio, setAspectRatio] = useState<AspectRatio>('1:1');\n  const [retouchStyle, setRetouchStyle] = useState<RetouchStyle>('none');\n  const [styleFunctionStyle, setStyleFunctionStyle] = useState<StyleFunctionStyle>('none');\n  const [createStyles, setCreateStyles] = useState<CreateStyle[]>([]);\n  \n  const [image1, setImage1] = useState<ImageData | null>(null);\n  const [image2, setImage2] = useState<ImageData | null>(null);\n\n  const [viewState, setViewState] = useState<ViewState>('placeholder');\n  const [generatedImage, setGeneratedImage] = useState<string | null>(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  \n  const [history, setHistory] = useState<string[]>(() => {\n    try {\n        const savedHistory = localStorage.getItem('invente-ia-history');\n        return savedHistory ? JSON.parse(savedHistory) : [];\n    } catch (error) {\n        console.error(\"Falha ao carregar o histórico do localStorage\", error);\n        return [];\n    }\n  });\n\n  const [comparisonImage, setComparisonImage] = useState<string | null>(null);\n  const [lastGenerationConfig, setLastGenerationConfig] = useState<GenerationConfig | null>(null);\n\n  useEffect(() => {\n    try {\n        localStorage.setItem('invente-ia-history', JSON.stringify(history));\n    } catch (error) {\n        console.error(\"Falha ao salvar o histórico no localStorage\", error);\n    }\n  }, [history]);\n\n\n  const handleGenerate = useCallback(async () => {\n    if (!prompt.trim()) {\n      alert(\"Por favor, escreva sua ideia no prompt!\");\n      return;\n    }\n    \n    const currentConfig: GenerationConfig = {\n      prompt,\n      mode,\n      createFn,\n      editFn,\n      aspectRatio,\n      retouchStyle,\n      styleFunctionStyle,\n      createStyles,\n      image1,\n      image2,\n    };\n\n    let promptWithStyles = prompt;\n    if (mode === 'create' && createStyles.length > 0) {\n      const styleKeywords = createStyles.map(style => createStyleInstructions[style]).join(', ');\n      promptWithStyles = `${prompt}, ${styleKeywords}`;\n    }\n\n    let finalPrompt = `Estilo Invente com IA — realismo, nitidez alta, contraste equilibrado. ${promptWithStyles}`;\n    if (mode === 'create' && createFn === 'thumbnail') {\n      finalPrompt = `Crie uma thumbnail para YouTube, formato 16:9, chamativa, com cores vibrantes e elementos claros que se destacam. O tema é: ${promptWithStyles}`;\n    }\n    \n    // Store the \"before\" image for comparison if in edit mode\n    const originalImageUrlForComparison = mode === 'edit' && image1 ? image1.previewUrl : null;\n\n    setViewState('loading');\n    setGeneratedImage(null);\n    setComparisonImage(null);\n\n\n    try {\n      let images: ImageData[] = [];\n      if (mode === 'edit') {\n        if (editFn === 'compose') {\n          if (!image1 || !image2) {\n            throw new Error(\"Selecione as duas imagens para a função 'Unir'.\");\n          }\n          images = [image1, image2];\n        } else {\n          if (!image1) {\n            throw new Error(\"Selecione uma imagem para editar.\");\n          }\n          images = [image1];\n        }\n      } else if (mode === 'create' && image1) {\n        images = [image1];\n      }\n\n      const activeRetouchStyle = mode === 'edit' && editFn === 'retouch' ? retouchStyle : 'none';\n      const activeStyleFunctionStyle = mode === 'edit' && editFn === 'style' ? styleFunctionStyle : 'none';\n      \n      const resultBase64 = await generateOrEditImage(\n        finalPrompt, \n        images, \n        aspectRatio, \n        activeRetouchStyle,\n        activeStyleFunctionStyle\n      );\n      const imageUrl = `data:image/png;base64,${resultBase64}`;\n      setGeneratedImage(imageUrl);\n      setComparisonImage(originalImageUrlForComparison); // Set the comparison image on success\n      setViewState('image');\n      setLastGenerationConfig(currentConfig);\n\n      // Add to history\n      setHistory(prevHistory => [imageUrl, ...prevHistory].slice(0, 12));\n\n    } catch (error) {\n      console.error(error);\n      const errorMessage = error instanceof Error ? error.message : \"Ocorreu um erro desconhecido ao gerar a imagem.\";\n      alert(errorMessage);\n      setViewState('placeholder');\n    }\n  }, [prompt, mode, createFn, editFn, image1, image2, aspectRatio, retouchStyle, styleFunctionStyle, createStyles]);\n  \n  const handleGenerateVariation = useCallback(async () => {\n    if (!lastGenerationConfig || !generatedImage) {\n        alert(\"Gere uma imagem primeiro para criar variações.\");\n        return;\n    }\n    \n    const { \n        prompt: lastPrompt, \n        mode: lastMode, \n        createStyles: lastCreateStyles, \n        createFn: lastCreateFn,\n        editFn: lastEditFn,\n        image1: lastImage1,\n        image2: lastImage2,\n        aspectRatio: lastAspectRatio,\n        retouchStyle: lastRetouchStyle,\n        styleFunctionStyle: lastStyleFunctionStyle\n    } = lastGenerationConfig;\n\n    let promptWithStyles = lastPrompt;\n    if (lastMode === 'create' && lastCreateStyles.length > 0) {\n      const styleKeywords = lastCreateStyles.map(style => createStyleInstructions[style]).join(', ');\n      promptWithStyles = `${lastPrompt}, ${styleKeywords}`;\n    }\n\n    let finalPrompt = `Estilo Invente com IA — realismo, nitidez alta, contraste equilibrado. ${promptWithStyles}`;\n    if (lastMode === 'create' && lastCreateFn === 'thumbnail') {\n      finalPrompt = `Crie uma thumbnail para YouTube, formato 16:9, chamativa, com cores vibrantes e elementos claros que se destacam. O tema é: ${promptWithStyles}`;\n    }\n\n    const previousImage = generatedImage;\n    setViewState('loading');\n    setComparisonImage(previousImage); // The current image becomes the \"before\" image\n    setGeneratedImage(null);\n\n    try {\n      let images: ImageData[] = [];\n      if (lastMode === 'edit') {\n        if (lastEditFn === 'compose') {\n          if (!lastImage1 || !lastImage2) {\n            throw new Error(\"As imagens originais da função 'Unir' não foram encontradas.\");\n          }\n          images = [lastImage1, lastImage2];\n        } else {\n          if (!lastImage1) {\n            throw new Error(\"A imagem original para editar não foi encontrada.\");\n          }\n          images = [lastImage1];\n        }\n      } else if (lastMode === 'create' && lastImage1) {\n        images = [lastImage1];\n      }\n\n      const activeRetouchStyle = lastMode === 'edit' && lastEditFn === 'retouch' ? lastRetouchStyle : 'none';\n      const activeStyleFunctionStyle = lastMode === 'edit' && lastEditFn === 'style' ? lastStyleFunctionStyle : 'none';\n      \n      const resultBase64 = await generateOrEditImage(\n        finalPrompt, \n        images, \n        lastAspectRatio, \n        activeRetouchStyle,\n        activeStyleFunctionStyle\n      );\n      const imageUrl = `data:image/png;base64,${resultBase64}`;\n      setGeneratedImage(imageUrl);\n      setViewState('image');\n\n      setHistory(prevHistory => [imageUrl, ...prevHistory].slice(0, 12));\n\n    } catch (error) {\n      console.error(error);\n      const errorMessage = error instanceof Error ? error.message : \"Ocorreu um erro desconhecido ao gerar a variação.\";\n      alert(errorMessage);\n      setGeneratedImage(previousImage);\n      setComparisonImage(null);\n      setViewState('image');\n    }\n  }, [lastGenerationConfig, generatedImage]);\n\n  const handleDownload = useCallback((format: ImageFormat) => {\n    if (!generatedImage) return;\n\n    const download = (url: string, extension: string) => {\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `invente-flux.${extension}`;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n    };\n\n    if (format === 'png') {\n        download(generatedImage, 'png');\n        return;\n    }\n\n    const img = new Image();\n    img.onload = () => {\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext('2d');\n        if (!ctx) return;\n        \n        ctx.fillStyle = '#FFFFFF';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        \n        ctx.drawImage(img, 0, 0);\n\n        const mimeType = `image/${format}`;\n        const quality = format === 'jpeg' ? 0.92 : undefined;\n        const dataUrl = canvas.toDataURL(mimeType, quality);\n        download(dataUrl, format);\n    };\n    img.src = generatedImage;\n  }, [generatedImage]);\n\n\n  const startNewImage = () => {\n    setGeneratedImage(null);\n    setViewState('placeholder');\n    setIsModalOpen(false);\n    setPrompt('');\n    setImage1(null);\n    setImage2(null);\n    setCreateStyles([]);\n    setComparisonImage(null);\n    setLastGenerationConfig(null);\n  };\n\n  const backToEditFunctions = () => {\n    setEditFn('add-remove');\n    setImage2(null); \n  };\n\n  const handleSelectFromHistory = useCallback(async (imageUrl: string) => {\n    setGeneratedImage(imageUrl);\n    setViewState('image');\n    setComparisonImage(null); // Clear comparison when loading from history\n    setLastGenerationConfig(null); // Variations aren't possible from history yet\n\n    // Prepare image for editing\n    const file = await dataUrlToFile(imageUrl, 'history-image.png');\n    setImage1({ file, previewUrl: imageUrl });\n    \n    // Switch to edit mode\n    setMode('edit');\n    setEditFn('add-remove'); // Default to a common edit function\n    setPrompt(''); // Clear prompt for new edit instruction\n    window.scrollTo(0, 0); // Scroll to top\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n      <div className=\"container max-w-7xl mx-auto p-4 md:p-5 grid grid-cols-1 lg:grid-cols-[420px_1fr] gap-4\">\n        <LeftPanel\n          prompt={prompt}\n          setPrompt={setPrompt}\n          mode={mode}\n          setMode={setMode}\n          createFn={createFn}\n          setCreateFn={setCreateFn}\n          editFn={editFn}\n          setEditFn={setEditFn}\n          aspectRatio={aspectRatio}\n          setAspectRatio={setAspectRatio}\n          retouchStyle={retouchStyle}\n          setRetouchStyle={setRetouchStyle}\n          styleFunctionStyle={styleFunctionStyle}\n          setStyleFunctionStyle={setStyleFunctionStyle}\n          createStyles={createStyles}\n          setCreateStyles={setCreateStyles}\n          image1={image1}\n          setImage1={setImage1}\n          image2={image2}\n          setImage2={setImage2}\n          onGenerate={handleGenerate}\n          isLoading={viewState === 'loading'}\n          onBackToEdit={backToEditFunctions}\n        />\n        <div className=\"flex flex-col gap-4\">\n          <RightPanel\n              viewState={viewState}\n              generatedImage={generatedImage}\n              comparisonImage={comparisonImage}\n              onEdit={() => setIsModalOpen(true)}\n              onDownload={handleDownload}\n              onGenerateVariation={handleGenerateVariation}\n          />\n          <HistoryPanel history={history} onSelect={handleSelectFromHistory} />\n        </div>\n        <MobileModal\n          isOpen={isModalOpen}\n          onClose={() => setIsModalOpen(false)}\n          imageUrl={generatedImage}\n          onDownload={handleDownload}\n          onEdit={() => alert(\"Edite o prompt e gere novamente.\")}\n          onNewImage={startNewImage}\n          onGenerateVariation={handleGenerateVariation}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}